
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>What’s New In Tohil 4.1 &#8212; Tohil 4.1 documentation</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Tohil 4.1 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="What’s New In Tohil 4.0" href="4.0.html" />
    <link rel="prev" title="What’s New in Tohil" href="index.html" />
    <link rel="canonical" href="https://docs.python.org/3/whatsnew/4.1.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/tohil.png" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://github.com/flightaware/tohil" class="nav-logo">
             <img src="../_static/tohil.png" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form id="searchbox" role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="Quick search"/>
            <input type="submit" value="Go"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">What’s New In Tohil 4.1</a><ul>
<li><a class="reference internal" href="#tclobjs-returned-from-more-places">tclobjs returned from more places</a></li>
<li><a class="reference internal" href="#python-side-callback-function-registration">Python-side callback function registration</a></li>
<li><a class="reference internal" href="#several-other-improvements">Several other improvements</a></li>
<li><a class="reference internal" href="#numerous-bug-fixes">Numerous bug fixes</a></li>
<li><a class="reference internal" href="#considerably-improved-documentation">Considerably improved documentation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">What’s New in Tohil</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="4.0.html"
                        title="next chapter">What’s New In Tohil 4.0</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/master/Doc/whatsnew/4.1.rst"
            rel="nofollow">Show Source
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="4.0.html" title="What’s New In Tohil 4.0"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="What’s New in Tohil"
             accesskey="P">previous</a> |</li>

          <li><img src="../_static/tohil.png" alt="tohil logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://github.com/flightaware/tohil">Tohil</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">4.1 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">What’s New in Tohil</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">What’s New In Tohil 4.1</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Quick search" aria-label="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="what-s-new-in-tohil-4-1">
<h1>What’s New In Tohil 4.1<a class="headerlink" href="#what-s-new-in-tohil-4-1" title="Permalink to this headline">¶</a></h1>
<section id="tclobjs-returned-from-more-places">
<h2>tclobjs returned from more places<a class="headerlink" href="#tclobjs-returned-from-more-places" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><cite>to=dict</cite> conversions now returns tclobjs for the dictionary values.</p></li>
<li><p><cite>tclobj.as_dict()</cite> does so as well.</p></li>
</ul>
</section>
<section id="python-side-callback-function-registration">
<h2>Python-side callback function registration<a class="headerlink" href="#python-side-callback-function-registration" title="Permalink to this headline">¶</a></h2>
<p>The new <cite>register_callback</cite> function provides a nice way to create Tcl
commands that directly call corresponding Python functions.  This is useful
for processing asynchronous callbacks from the Tcl event loop using Python,
and may be useful for other stuff as well.</p>
</section>
<section id="several-other-improvements">
<h2>Several other improvements<a class="headerlink" href="#several-other-improvements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Pass None from Tcl to Python functions called via <cite>tohil::call</cite>
by using the <cite>tohil::NONE</cite> sentinel.</p></li>
<li><p>More precise error messages when Tohil startup fails should help
with troubleshooting installation problems.</p></li>
<li><p>Many new tests.</p></li>
</ul>
</section>
<section id="numerous-bug-fixes">
<h2>Numerous bug fixes<a class="headerlink" href="#numerous-bug-fixes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Python builtins can be called from Tcl-side tohil::call without
resorting to explicitly specifying the builtins namespace.</p></li>
<li><p>Fixed bugs in how tclvars (tclobjs bound to vars) handled some methods,
such as insert, pop, append, and extend.</p></li>
<li><p>Correct behavior of tclobj iterators, also fixes a crash.</p></li>
<li><p>If Python is initializing Tcl, it now does so using
<cite>package require</cite> rather than a <cite>Tohil_Init</cite> to cause Tohil’s Tcl package
code to get sourced.  (It also requires the exact version of Tohil that it is,
to reduce the risk of it loading some other version of the library when
multiple versions are installed.)</p></li>
</ul>
</section>
<section id="considerably-improved-documentation">
<h2>Considerably improved documentation<a class="headerlink" href="#considerably-improved-documentation" title="Permalink to this headline">¶</a></h2>
<p>We’ve considerably improved and extended the Tohil tutorial and
reference, in Python-standard RST format,
and are serving it out at <a class="reference external" href="https://flightaware.github.io/tohil-docs/">https://flightaware.github.io/tohil-docs/</a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">What’s New In Tohil 4.1</a><ul>
<li><a class="reference internal" href="#tclobjs-returned-from-more-places">tclobjs returned from more places</a></li>
<li><a class="reference internal" href="#python-side-callback-function-registration">Python-side callback function registration</a></li>
<li><a class="reference internal" href="#several-other-improvements">Several other improvements</a></li>
<li><a class="reference internal" href="#numerous-bug-fixes">Numerous bug fixes</a></li>
<li><a class="reference internal" href="#considerably-improved-documentation">Considerably improved documentation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">What’s New in Tohil</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="4.0.html"
                        title="next chapter">What’s New In Tohil 4.0</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/master/Doc/whatsnew/4.1.rst"
            rel="nofollow">Show Source
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="4.0.html" title="What’s New In Tohil 4.0"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="What’s New in Tohil"
             >previous</a> |</li>

          <li><img src="../_static/tohil.png" alt="tohil logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://github.com/flightaware/tohil">Tohil</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">4.1 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >What’s New in Tohil</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">What’s New In Tohil 4.1</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Quick search" aria-label="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2014, Aidan Hobson Sayers, 2021-2021, FlightAware LLC.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="">History and License</a> for more information.
    <br /><br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    Last updated on Sep 06, 2021.
    <a href="https://docs.python.org/3/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.1.2.
    </div>

  </body>
</html>